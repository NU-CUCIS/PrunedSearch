% Copyright (C) 2016, Northwestern University
% See COPYRIGHT notice in top-level directory.
clear all
warning off

randsize = 5000;

constraint = [0.0159822999947858,0.00818178632407973,0.00818178632407973,0.00818178632407973,0.00818178632407973,0.00818178632407973,0.00818178632407973,0.00613766636477021,0.00572645585112265,0.00572645585112265,0.00613766636477021,0.00572645585112265,0.00572645585112265,0.00572645585112265,0.00613766636477021,0.00572645585112265,0.00572645585112265,0.00572645585112265,0.00572645585112265,0.00572645585112265,0.00613766636477021,0.00572645585112265,0.00613766636477021,0.00572645585112265,0.00572645585112265,0.00572645585112265,0.00572645585112265,0.00572645585112265,0.00613766636477021,0.00613766636477021,0.00613766636477021,0.00376140480720866,0.00376140480720866,0.00376140480720866,0.00454084416782057,0.00454084416700527,0.00454084416700527,0.00454084416782057,0.00454084416782057,0.00454084416700527,0.00454084416782057,0.00454084416700527,0.00454084416700527,0.00454084416782057,0.00454084416700527,0.00454084416782057,0.00454084416782057,0.00454084416782057,0.00454084416782057,0.00454084416700527,0.00454084416700527,0.00454084416700527,0.00454084416700527,0.00454084416782057,0.00454084416700527,0.00454084416700527,0.00454084416782057,0.00454084416782057,0.00541192129558303,0.00495535011431222,0.00495535011431222,0.00541192129558303,0.00495535011431222,0.00541192129558303,0.00541192129558303,0.00541192129558303,0.00541192129558303,0.00541192129558303,0.00495535011431222,0.00541192129558303,0.00398197813454777,0.00398197813454777,0.00398197813454777,0.00398197813454777,0.00398197813454777,0.00398197813454777];
tic
data = [];
for j = 1:randsize

    randSep = sort(rand(1,75));
    randIntvl = diff([0,randSep,1]);
    
    randInd = randperm(76);
    odf(1,randInd) = randIntvl./constraint(randInd);
    
%     for i = 1:length(randIntvl)
%         odf(1,randInd(i)) = randIntvl(i)./constraint(randInd(i));
%     end
    data = [data;odf,SeparateOptE(odf)];
end
t = toc;

[s,ind] = sort(data(:,77));
dataSort = data(ind,:);

for i = 1:randsize
if dataSort(i,77) == s(i)
    continue
else
    disp('sorting not right!')
    break
end
end

dataSort(:,77) = s;
dataPolar_E_RI = [dataSort(1:randsize*0.25,:);...
    dataSort(randsize*0.75+1:randsize,:)];
dataOri_E_RI = data;
t_E_RI = t;

dataPolar = dataPolar_E_RI;
save('../data/data_randIntervalGen_E.mat','dataPolar','dataOri*','t_*')
exit;
