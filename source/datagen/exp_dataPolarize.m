% Copyright (C) 2016, Northwestern University
% See COPYRIGHT notice in top-level directory.
clear
clc

load Data_Greedy.mat
load Data_PartitionAll.mat
load Data_PartitionSmall.mat
load Data_Random5.mat


data = [data_Greedy;data_RandEvery5;data_RandInterval;data_SmallPartition];

perc = 0.2; % 20% of upper and lower values are kept

tar = data(:,end);

[stTar,ind] = sort(tar);

%dsize = floor(perc*size(data,1));
dsize = 5;

lowTarData = data(ind(1:dsize),:);

highTarData = data(ind(end-dsize+1:end),:);

% plot histogram

[hh,hout] = hist(highTarData(:,77));
[lh,lout] = hist(lowTarData(:,77));

% subplot(2,1,1)
% plot(hout,hh)
% subplot(2,1,2)
% plot(lh,lout,'r')

constraint = [0.0159822999947858,0.00818178632407973,0.00818178632407973,0.00818178632407973,0.00818178632407973,0.00818178632407973,0.00818178632407973,0.00613766636477021,0.00572645585112265,0.00572645585112265,0.00613766636477021,0.00572645585112265,0.00572645585112265,0.00572645585112265,0.00613766636477021,0.00572645585112265,0.00572645585112265,0.00572645585112265,0.00572645585112265,0.00572645585112265,0.00613766636477021,0.00572645585112265,0.00613766636477021,0.00572645585112265,0.00572645585112265,0.00572645585112265,0.00572645585112265,0.00572645585112265,0.00613766636477021,0.00613766636477021,0.00613766636477021,0.00376140480720866,0.00376140480720866,0.00376140480720866,0.00454084416782057,0.00454084416700527,0.00454084416700527,0.00454084416782057,0.00454084416782057,0.00454084416700527,0.00454084416782057,0.00454084416700527,0.00454084416700527,0.00454084416782057,0.00454084416700527,0.00454084416782057,0.00454084416782057,0.00454084416782057,0.00454084416782057,0.00454084416700527,0.00454084416700527,0.00454084416700527,0.00454084416700527,0.00454084416782057,0.00454084416700527,0.00454084416700527,0.00454084416782057,0.00454084416782057,0.00541192129558303,0.00495535011431222,0.00495535011431222,0.00541192129558303,0.00495535011431222,0.00541192129558303,0.00541192129558303,0.00541192129558303,0.00541192129558303,0.00541192129558303,0.00495535011431222,0.00541192129558303,0.00398197813454777,0.00398197813454777,0.00398197813454777,0.00398197813454777,0.00398197813454777,0.00398197813454777];
facLimit = 1./constraint;

normLowData = []; normHighData = [];
for i = 1:76
    normLowData = [normLowData,lowTarData(:,i)./facLimit(i)];
    normHighData = [normHighData, highTarData(:,i)./facLimit(i)];    
end
normLowData = [normLowData,zeros(dsize,1)];
normHighData = [normHighData,ones(dsize,1)];

normData = [normLowData;normHighData];
csvwrite('norm_10.csv',normData);


